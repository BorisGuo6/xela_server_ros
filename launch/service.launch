<launch>
    <arg name="file" default="/etc/xela/xServ.ini"/>
    <arg name="port" default="5000"/>
    <!-- FIX: Final IP, confirmed by netstat binding -->
    <arg name="ip" default="192.168.68.62"/>
    <arg name="d" default="0"/>

    <!-- The xela_server node likely creates the listener -->
    <node pkg="xela_server_ros" name="xela_server" type="xela_server" required="true" args="-f $(arg file) --port $(arg port) --ip $(arg ip)" />
    
    <!-- FIX: Add a 1-second delay to ensure the server node has time to bind to the port -->
    <node pkg="xela_server_ros" type="xela_service" name="xela_service" required="true"  
          args="--port $(arg port) --ip $(arg ip) -d $(arg d)"
          launch-prefix="bash -c 'sleep 1; $0 $@'" />
</launch>
